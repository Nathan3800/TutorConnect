<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tutors</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="css/style.css" />
    <style>
      body {
        margin: 0;
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Roboto",
          sans-serif;
      }
      .container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
      }
      .tutor-card {
        transition: transform 0.2s ease, box-shadow 0.2s ease;
      }
      .tutor-card:hover {
        transform: translateY(-4px);
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.15);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // Icon Components
      const Calendar = ({ size = 24, className = "" }) => (
        <svg
          className={className}
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
        >
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2" />
          <line x1="16" y1="2" x2="16" y2="6" />
          <line x1="8" y1="2" x2="8" y2="6" />
          <line x1="3" y1="10" x2="21" y2="10" />
        </svg>
      );

      const Star = ({
        size = 24,
        className = "",
        filled = false,
        half = false,
      }) => (
        <svg
          className={className}
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill={filled ? "currentColor" : "none"}
          stroke="currentColor"
          strokeWidth="2"
        >
          {half && (
            <defs>
              <linearGradient id="halfStar" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="50%" stopColor="currentColor" />
                <stop offset="50%" stopColor="transparent" />
              </linearGradient>
            </defs>
          )}
          <polygon
            points="12,2 15.09,8.26 22,9.27 17,14.14 18.18,21.02 12,17.77 5.82,21.02 7,14.14 2,9.27 8.91,8.26"
            fill={half ? "url(#halfStar)" : filled ? "currentColor" : "none"}
          />
        </svg>
      );

      const Moon = ({ size = 24, className = "" }) => (
        <svg
          className={className}
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
        >
          <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" />
        </svg>
      );

      const Search = ({ size = 24, className = "" }) => (
        <svg
          className={className}
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
        >
          <circle cx="11" cy="11" r="8" />
          <path d="m21 21-4.35-4.35" />
        </svg>
      );

      const CheckCircle = ({ size = 24, className = "" }) => (
        <svg
          className={className}
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
        >
          <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14" />
          <polyline points="22,4 12,14.01 9,11.01" />
        </svg>
      );

      // Main Tutors Page Component
      const TutorsPage = () => {
        const [searchTerm, setSearchTerm] = useState("");
        const [showBookingModal, setShowBookingModal] = useState(false);
        const [selectedTutor, setSelectedTutor] = useState(null);
        const [bookingStep, setBookingStep] = useState(1); // 1: booking details, 2: payment, 3: confirmation
        const [paymentMethod, setPaymentMethod] = useState("card");
        const [paymentForm, setPaymentForm] = useState({
          cardNumber: "",
          expiryDate: "",
          cvv: "",
          cardName: "",
          billingAddress: "",
          city: "",
          zipCode: "",
          paypalEmail: "",
          applePay: false,
          googlePay: false,
        });
        const [darkMode, setDarkMode] = useState(false);
        const [bookingForm, setBookingForm] = useState({
          date: "",
          time: "",
          subject: "",
        });

        const tutors = [
          {
            id: 1,
            name: "John Smith",
            subject: "Mathematics",
            specialties: "Algebra, Calculus, Geometry, Statistics, and more",
            rating: 4.5,
            price: 30,
            image: "https://randomuser.me/api/portraits/men/32.jpg",
          },
          {
            id: 2,
            name: "Emily Johnson",
            subject: "Science",
            specialties: "Physics, Biology, Chemistry, Earth Science",
            rating: 4.0,
            price: 28,
            image: "https://randomuser.me/api/portraits/women/45.jpg",
          },
          {
            id: 3,
            name: "Michael Lee",
            subject: "English",
            specialties: "Grammar, Literature, Writing, Public Speaking",
            rating: 3.5,
            price: 25,
            image: "https://randomuser.me/api/portraits/men/67.jpg",
          },
          {
            id: 4,
            name: "Emily Davis",
            subject: "Computer Science",
            specialties: "Programming, Databases, Web Development, AI",
            rating: 4.5,
            price: 40,
            image: "https://randomuser.me/api/portraits/women/17.jpg",
          },
        ];

        const filteredTutors = tutors.filter(
          (tutor) =>
            tutor.name.toLowerCase().includes(searchTerm.toLowerCase()) ||
            tutor.subject.toLowerCase().includes(searchTerm.toLowerCase()) ||
            tutor.specialties.toLowerCase().includes(searchTerm.toLowerCase())
        );

        const renderStars = (rating) => {
          const stars = [];
          const fullStars = Math.floor(rating);
          const hasHalfStar = rating % 1 !== 0;

          for (let i = 0; i < fullStars; i++) {
            stars.push(
              <Star
                key={i}
                size={16}
                className="text-yellow-500"
                filled={true}
              />
            );
          }

          if (hasHalfStar) {
            stars.push(
              <Star
                key="half"
                size={16}
                className="text-yellow-500"
                half={true}
              />
            );
          }

          const remainingStars = 5 - Math.ceil(rating);
          for (let i = 0; i < remainingStars; i++) {
            stars.push(
              <Star
                key={`empty-${i}`}
                size={16}
                className="text-gray-300"
                filled={false}
              />
            );
          }

          return stars;
        };

        const handleBookSession = (tutor) => {
          setSelectedTutor(tutor);
          setBookingStep(1);
          setShowBookingModal(true);
        };

        const handleBookingSubmit = (e) => {
          e.preventDefault();
          if (bookingStep === 1) {
            // Validate booking details
            if (
              !bookingForm.date ||
              !bookingForm.time ||
              !bookingForm.subject
            ) {
              alert("Please fill in all booking details");
              return;
            }
            setBookingStep(2); // Move to payment step
          } else if (bookingStep === 2) {
            // Process payment
            processPayment();
          }
        };

        const processPayment = () => {
          // Mock payment processing
          const processingTime = paymentMethod === "card" ? 2000 : 1500;

          // Show processing state
          setBookingStep("processing");

          setTimeout(() => {
            setBookingStep(3); // Move to confirmation
          }, processingTime);
        };

        const resetBookingModal = () => {
          setShowBookingModal(false);
          setBookingStep(1);
          setBookingForm({ date: "", time: "", subject: "" });
          setPaymentForm({
            cardNumber: "",
            expiryDate: "",
            cvv: "",
            cardName: "",
            billingAddress: "",
            city: "",
            zipCode: "",
            paypalEmail: "",
            applePay: false,
            googlePay: false,
          });
          setPaymentMethod("card");
        };

        const handlePaymentInputChange = (e) => {
          const { name, value } = e.target;
          setPaymentForm((prev) => ({
            ...prev,
            [name]: value,
          }));
        };

        const formatCardNumber = (value) => {
          return value
            .replace(/\s+/g, "")
            .replace(/(\d{4})/g, "$1 ")
            .trim();
        };

        const formatExpiryDate = (value) => {
          return value.replace(/\D/g, "").replace(/(\d{2})(\d)/, "$1/$2");
        };

        const toggleDarkMode = () => {
          setDarkMode(!darkMode);
        };

        const themeClasses = darkMode
          ? "bg-gray-900 text-white"
          : "bg-white text-gray-900";
        const cardClasses = darkMode
          ? "bg-gray-800 text-white"
          : "bg-white text-gray-900";

        return (
          <div className={`min-h-screen ${themeClasses}`}>
            {/* Navbar */}
            <nav
              className={`sticky top-0 z-50 shadow-sm ${
                darkMode ? "bg-gray-800" : "bg-white"
              } border-b`}
            >
              <div className="container mx-auto px-4">
                <div className="flex justify-between items-center py-4">
                  <a
                    href="index.html"
                    className="text-2xl font-bold text-blue-600"
                  >
                    TutorConnect
                  </a>

                  <div className="hidden md:flex space-x-6">
                    <a
                      href="subjects.html"
                      className="hover:text-blue-600 transition-colors"
                    >
                      Subjects
                    </a>
                    <a
                      href="tutors.html"
                      className="hover:text-blue-600 transition-colors"
                    >
                      Tutors
                    </a>
                    <a
                      href="#dashboard"
                      className="hover:text-blue-600 transition-colors"
                    >
                      Dashboard
                    </a>
                  </div>

                  <div className="flex items-center space-x-3">
                    <button
                      onClick={toggleDarkMode}
                      className={`p-2 rounded-lg border transition-colors ${
                        darkMode
                          ? "border-gray-600 hover:bg-gray-700 text-gray-300"
                          : "border-gray-300 hover:bg-gray-100 text-gray-600"
                      }`}
                    >
                      <Moon size={20} />
                    </button>
                    <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center gap-2">
                      <Calendar size={16} />
                      <a href="tutors.html">Book</a>
                    </button>
                    <button className="px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors">
                      <a href="login-register.html">Login</a>
                    </button>
                  </div>
                </div>
              </div>
            </nav>

            {/* Hero Section */}
            <section
              className={`py-12 text-center ${
                darkMode ? "bg-gray-800" : "bg-gray-100"
              }`}
            >
              <div className="container mx-auto px-4">
                <h1 className="text-4xl font-bold mb-4">Available Tutors</h1>
                <p className="text-xl mb-6 text-gray-600 dark:text-gray-300">
                  Browse tutors and book your next session
                </p>
                <div className="max-w-md mx-auto relative">
                  <Search
                    className="absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"
                    size={20}
                  />
                  <input
                    type="text"
                    className={`w-full pl-10 pr-4 py-3 rounded-lg border focus:outline-none focus:ring-2 focus:ring-blue-500 ${
                      darkMode
                        ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                        : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                    }`}
                    placeholder="Search tutors by name or subject..."
                    value={searchTerm}
                    onChange={(e) => setSearchTerm(e.target.value)}
                  />
                </div>
              </div>
            </section>

            {/* Tutors Grid */}
            <section className="py-12">
              <div className="container mx-auto px-4">
                <div className="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6">
                  {filteredTutors.map((tutor) => (
                    <div
                      key={tutor.id}
                      className={`${cardClasses} rounded-lg shadow-md tutor-card border ${
                        darkMode ? "border-gray-700" : "border-gray-200"
                      }`}
                    >
                      <img
                        src={tutor.image}
                        alt={tutor.name}
                        className="w-full h-48 object-cover rounded-t-lg"
                      />
                      <div className="p-6">
                        <h5 className="text-xl font-semibold mb-2">
                          {tutor.name}
                        </h5>
                        <p
                          className={`mb-3 ${
                            darkMode ? "text-gray-300" : "text-gray-600"
                          }`}
                        >
                          <span className="font-medium text-blue-600">
                            {tutor.subject}
                          </span>{" "}
                          | {tutor.specialties}
                        </p>
                        <div className="flex items-center mb-3">
                          <div className="flex">
                            {renderStars(tutor.rating)}
                          </div>
                          <span
                            className={`ml-2 text-sm ${
                              darkMode ? "text-gray-400" : "text-gray-600"
                            }`}
                          >
                            ({tutor.rating})
                          </span>
                        </div>
                        <p className="text-2xl font-bold text-blue-600 mb-4">
                          ${tutor.price}/hr
                        </p>
                        <button
                          onClick={() => handleBookSession(tutor)}
                          className="w-full px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"
                        >
                          Book Session
                        </button>
                      </div>
                    </div>
                  ))}
                </div>

                {filteredTutors.length === 0 && (
                  <div className="text-center py-12">
                    <div
                      className={`text-6xl mb-4 ${
                        darkMode ? "text-gray-600" : "text-gray-400"
                      }`}
                    >
                      🔍
                    </div>
                    <h3 className="text-xl font-semibold mb-2">
                      No tutors found
                    </h3>
                    <p
                      className={`${
                        darkMode ? "text-gray-400" : "text-gray-500"
                      }`}
                    >
                      Try adjusting your search terms or browse all tutors.
                    </p>
                  </div>
                )}
              </div>
            </section>

            {/* Booking/Payment Modal */}
            {showBookingModal && (
              <div className="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
                <div
                  className={`${cardClasses} rounded-lg w-full max-w-2xl border ${
                    darkMode ? "border-gray-700" : "border-gray-200"
                  } max-h-[90vh] overflow-y-auto`}
                >
                  {/* Header */}
                  <div
                    className={`p-6 border-b ${
                      darkMode ? "border-gray-700" : "border-gray-200"
                    } flex justify-between items-center`}
                  >
                    <div>
                      <h3 className="text-xl font-semibold">
                        {bookingStep === 1
                          ? "Book Session"
                          : bookingStep === 2
                          ? "Payment Details"
                          : bookingStep === "processing"
                          ? "Processing Payment"
                          : "Booking Confirmed"}
                      </h3>
                      {bookingStep !== "processing" && bookingStep !== 3 && (
                        <div className="flex mt-2">
                          <div
                            className={`w-8 h-1 rounded mr-1 ${
                              bookingStep >= 1 ? "bg-blue-600" : "bg-gray-300"
                            }`}
                          ></div>
                          <div
                            className={`w-8 h-1 rounded mr-1 ${
                              bookingStep >= 2 ? "bg-blue-600" : "bg-gray-300"
                            }`}
                          ></div>
                          <div
                            className={`w-8 h-1 rounded ${
                              bookingStep >= 3 ? "bg-blue-600" : "bg-gray-300"
                            }`}
                          ></div>
                        </div>
                      )}
                    </div>
                    <button
                      onClick={resetBookingModal}
                      className={`text-2xl hover:opacity-70 ${
                        darkMode ? "text-gray-300" : "text-gray-500"
                      }`}
                    >
                      ✕
                    </button>
                  </div>

                  {/* Step 1: Booking Details */}
                  {bookingStep === 1 && (
                    <form onSubmit={handleBookingSubmit} className="p-6">
                      <div className="mb-4">
                        <div
                          className={`p-3 rounded-lg ${
                            darkMode ? "bg-gray-700" : "bg-blue-50"
                          } border ${
                            darkMode ? "border-gray-600" : "border-blue-200"
                          }`}
                        >
                          <div className="flex items-center gap-3">
                            <img
                              src={selectedTutor?.image}
                              alt={selectedTutor?.name}
                              className="w-12 h-12 rounded-full object-cover"
                            />
                            <div>
                              <p className="font-semibold">
                                {selectedTutor?.name}
                              </p>
                              <p
                                className={`text-sm ${
                                  darkMode ? "text-gray-300" : "text-gray-600"
                                }`}
                              >
                                {selectedTutor?.subject} • $
                                {selectedTutor?.price}/hr
                              </p>
                            </div>
                          </div>
                        </div>
                      </div>

                      <div className="grid md:grid-cols-2 gap-4 mb-4">
                        <div>
                          <label
                            className={`block text-sm font-medium mb-2 ${
                              darkMode ? "text-gray-300" : "text-gray-700"
                            }`}
                          >
                            Date
                          </label>
                          <input
                            type="date"
                            className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                              darkMode
                                ? "bg-gray-700 border-gray-600 text-white"
                                : "bg-white border-gray-300 text-gray-900"
                            }`}
                            value={bookingForm.date}
                            onChange={(e) =>
                              setBookingForm({
                                ...bookingForm,
                                date: e.target.value,
                              })
                            }
                            required
                          />
                        </div>

                        <div>
                          <label
                            className={`block text-sm font-medium mb-2 ${
                              darkMode ? "text-gray-300" : "text-gray-700"
                            }`}
                          >
                            Time
                          </label>
                          <input
                            type="time"
                            className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                              darkMode
                                ? "bg-gray-700 border-gray-600 text-white"
                                : "bg-white border-gray-300 text-gray-900"
                            }`}
                            value={bookingForm.time}
                            onChange={(e) =>
                              setBookingForm({
                                ...bookingForm,
                                time: e.target.value,
                              })
                            }
                            required
                          />
                        </div>
                      </div>

                      <div className="mb-6">
                        <label
                          className={`block text-sm font-medium mb-2 ${
                            darkMode ? "text-gray-300" : "text-gray-700"
                          }`}
                        >
                          Subject
                        </label>
                        <input
                          type="text"
                          className={`w-full px-3 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                            darkMode
                              ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                              : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                          }`}
                          placeholder="e.g. Algebra, Physics, Essay Writing..."
                          value={bookingForm.subject}
                          onChange={(e) =>
                            setBookingForm({
                              ...bookingForm,
                              subject: e.target.value,
                            })
                          }
                          required
                        />
                      </div>

                      <div className="flex gap-3">
                        <button
                          type="button"
                          onClick={resetBookingModal}
                          className={`flex-1 px-4 py-2 border rounded-lg transition-colors ${
                            darkMode
                              ? "border-gray-600 hover:bg-gray-700 text-gray-300"
                              : "border-gray-300 hover:bg-gray-50 text-gray-700"
                          }`}
                        >
                          Cancel
                        </button>
                        <button
                          type="submit"
                          className="flex-1 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"
                        >
                          Continue to Payment
                        </button>
                      </div>
                    </form>
                  )}

                  {/* Step 2: Payment */}
                  {bookingStep === 2 && (
                    <div className="p-6">
                      {/* Session Summary */}
                      <div
                        className={`mb-6 p-4 rounded-lg border ${
                          darkMode
                            ? "bg-gray-700 border-gray-600"
                            : "bg-gray-50 border-gray-200"
                        }`}
                      >
                        <h4 className="font-semibold mb-3">Session Summary</h4>
                        <div className="space-y-2 text-sm">
                          <div className="flex justify-between">
                            <span>Tutor:</span>
                            <span className="font-medium">
                              {selectedTutor?.name}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Subject:</span>
                            <span className="font-medium">
                              {bookingForm.subject}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Date & Time:</span>
                            <span className="font-medium">
                              {bookingForm.date} at {bookingForm.time}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Duration:</span>
                            <span className="font-medium">1 hour</span>
                          </div>
                          <div
                            className={`flex justify-between pt-2 border-t ${
                              darkMode ? "border-gray-600" : "border-gray-200"
                            } font-semibold text-lg`}
                          >
                            <span>Total:</span>
                            <span className="text-blue-600">
                              ${selectedTutor?.price}
                            </span>
                          </div>
                        </div>
                      </div>

                      {/* Payment Method Selection */}
                      <div className="mb-6">
                        <h4 className="font-semibold mb-4">Payment Method</h4>
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-3">
                          <button
                            type="button"
                            onClick={() => setPaymentMethod("card")}
                            className={`p-3 border rounded-lg text-center transition-colors ${
                              paymentMethod === "card"
                                ? "border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-600"
                                : darkMode
                                ? "border-gray-600 hover:border-gray-500"
                                : "border-gray-300 hover:border-gray-400"
                            }`}
                          >
                            <div className="text-2xl mb-1">💳</div>
                            <div className="text-sm font-medium">Card</div>
                          </button>

                          <button
                            type="button"
                            onClick={() => setPaymentMethod("paypal")}
                            className={`p-3 border rounded-lg text-center transition-colors ${
                              paymentMethod === "paypal"
                                ? "border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-600"
                                : darkMode
                                ? "border-gray-600 hover:border-gray-500"
                                : "border-gray-300 hover:border-gray-400"
                            }`}
                          >
                            <div className="text-2xl mb-1">💙</div>
                            <div className="text-sm font-medium">PayPal</div>
                          </button>

                          <button
                            type="button"
                            onClick={() => setPaymentMethod("apple")}
                            className={`p-3 border rounded-lg text-center transition-colors ${
                              paymentMethod === "apple"
                                ? "border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-600"
                                : darkMode
                                ? "border-gray-600 hover:border-gray-500"
                                : "border-gray-300 hover:border-gray-400"
                            }`}
                          >
                            <div className="text-2xl mb-1">🍎</div>
                            <div className="text-sm font-medium">Apple Pay</div>
                          </button>

                          <button
                            type="button"
                            onClick={() => setPaymentMethod("google")}
                            className={`p-3 border rounded-lg text-center transition-colors ${
                              paymentMethod === "google"
                                ? "border-blue-500 bg-blue-50 dark:bg-blue-900 text-blue-600"
                                : darkMode
                                ? "border-gray-600 hover:border-gray-500"
                                : "border-gray-300 hover:border-gray-400"
                            }`}
                          >
                            <div className="text-2xl mb-1">🟡</div>
                            <div className="text-sm font-medium">
                              Google Pay
                            </div>
                          </button>
                        </div>
                      </div>

                      {/* Payment Forms */}
                      <form onSubmit={handleBookingSubmit}>
                        {paymentMethod === "card" && (
                          <div className="space-y-4 mb-6">
                            <div>
                              <label
                                className={`block text-sm font-medium mb-2 ${
                                  darkMode ? "text-gray-300" : "text-gray-700"
                                }`}
                              >
                                Card Number
                              </label>
                              <input
                                type="text"
                                name="cardNumber"
                                maxLength="19"
                                value={formatCardNumber(paymentForm.cardNumber)}
                                onChange={(e) =>
                                  handlePaymentInputChange({
                                    target: {
                                      name: "cardNumber",
                                      value: e.target.value.replace(/\s/g, ""),
                                    },
                                  })
                                }
                                className={`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                                  darkMode
                                    ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                                    : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                                }`}
                                placeholder="1234 5678 9012 3456"
                                required
                              />
                            </div>

                            <div className="grid grid-cols-2 gap-4">
                              <div>
                                <label
                                  className={`block text-sm font-medium mb-2 ${
                                    darkMode ? "text-gray-300" : "text-gray-700"
                                  }`}
                                >
                                  Expiry Date
                                </label>
                                <input
                                  type="text"
                                  name="expiryDate"
                                  maxLength="5"
                                  value={formatExpiryDate(
                                    paymentForm.expiryDate
                                  )}
                                  onChange={(e) =>
                                    handlePaymentInputChange({
                                      target: {
                                        name: "expiryDate",
                                        value: e.target.value.replace(
                                          /\D/g,
                                          ""
                                        ),
                                      },
                                    })
                                  }
                                  className={`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                                    darkMode
                                      ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                                      : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                                  }`}
                                  placeholder="MM/YY"
                                  required
                                />
                              </div>

                              <div>
                                <label
                                  className={`block text-sm font-medium mb-2 ${
                                    darkMode ? "text-gray-300" : "text-gray-700"
                                  }`}
                                >
                                  CVV
                                </label>
                                <input
                                  type="text"
                                  name="cvv"
                                  maxLength="4"
                                  value={paymentForm.cvv}
                                  onChange={(e) =>
                                    handlePaymentInputChange({
                                      target: {
                                        name: "cvv",
                                        value: e.target.value.replace(
                                          /\D/g,
                                          ""
                                        ),
                                      },
                                    })
                                  }
                                  className={`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                                    darkMode
                                      ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                                      : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                                  }`}
                                  placeholder="123"
                                  required
                                />
                              </div>
                            </div>

                            <div>
                              <label
                                className={`block text-sm font-medium mb-2 ${
                                  darkMode ? "text-gray-300" : "text-gray-700"
                                }`}
                              >
                                Name on Card
                              </label>
                              <input
                                type="text"
                                name="cardName"
                                value={paymentForm.cardName}
                                onChange={handlePaymentInputChange}
                                className={`w-full px-3 py-3 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none ${
                                  darkMode
                                    ? "bg-gray-700 border-gray-600 text-white placeholder-gray-400"
                                    : "bg-white border-gray-300 text-gray-900 placeholder-gray-500"
                                }`}
                                placeholder="John Doe"
                                required
                              />
                            </div>
                          </div>
                        )}

                        {paymentMethod === "paypal" && (
                          <div className="mb-6">
                            <div
                              className={`text-center p-8 border rounded-lg ${
                                darkMode
                                  ? "border-gray-600 bg-gray-700"
                                  : "border-gray-300 bg-gray-50"
                              }`}
                            >
                              <div className="text-6xl mb-4">💙</div>
                              <h4 className="text-lg font-semibold mb-2">
                                Pay with PayPal
                              </h4>
                              <p
                                className={`text-sm ${
                                  darkMode ? "text-gray-400" : "text-gray-600"
                                } mb-4`}
                              >
                                You'll be redirected to PayPal to complete your
                                payment securely.
                              </p>
                              <div className="text-sm">
                                <strong>Amount: ${selectedTutor?.price}</strong>
                              </div>
                            </div>
                          </div>
                        )}

                        {paymentMethod === "apple" && (
                          <div className="mb-6">
                            <div
                              className={`text-center p-8 border rounded-lg ${
                                darkMode
                                  ? "border-gray-600 bg-gray-700"
                                  : "border-gray-300 bg-gray-50"
                              }`}
                            >
                              <div className="text-6xl mb-4">🍎</div>
                              <h4 className="text-lg font-semibold mb-2">
                                Apple Pay
                              </h4>
                              <p
                                className={`text-sm ${
                                  darkMode ? "text-gray-400" : "text-gray-600"
                                } mb-4`}
                              >
                                Use Touch ID or Face ID to pay securely with
                                Apple Pay.
                              </p>
                              <div className="text-sm">
                                <strong>Amount: ${selectedTutor?.price}</strong>
                              </div>
                            </div>
                          </div>
                        )}

                        {paymentMethod === "google" && (
                          <div className="mb-6">
                            <div
                              className={`text-center p-8 border rounded-lg ${
                                darkMode
                                  ? "border-gray-600 bg-gray-700"
                                  : "border-gray-300 bg-gray-50"
                              }`}
                            >
                              <div className="text-6xl mb-4">🟡</div>
                              <h4 className="text-lg font-semibold mb-2">
                                Google Pay
                              </h4>
                              <p
                                className={`text-sm ${
                                  darkMode ? "text-gray-400" : "text-gray-600"
                                } mb-4`}
                              >
                                Pay quickly and securely with Google Pay.
                              </p>
                              <div className="text-sm">
                                <strong>Amount: ${selectedTutor?.price}</strong>
                              </div>
                            </div>
                          </div>
                        )}

                        <div className="flex gap-3">
                          <button
                            type="button"
                            onClick={() => setBookingStep(1)}
                            className={`flex-1 px-4 py-3 border rounded-lg transition-colors ${
                              darkMode
                                ? "border-gray-600 hover:bg-gray-700 text-gray-300"
                                : "border-gray-300 hover:bg-gray-50 text-gray-700"
                            }`}
                          >
                            Back
                          </button>
                          <button
                            type="submit"
                            className="flex-1 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium flex items-center justify-center gap-2"
                          >
                            <span>Pay ${selectedTutor?.price}</span>
                          </button>
                        </div>
                      </form>
                    </div>
                  )}

                  {/* Processing State */}
                  {bookingStep === "processing" && (
                    <div className="p-12 text-center">
                      <div className="animate-spin rounded-full h-16 w-16 border-b-4 border-blue-600 mx-auto mb-4"></div>
                      <h4 className="text-xl font-semibold mb-2">
                        Processing Payment
                      </h4>
                      <p
                        className={`${
                          darkMode ? "text-gray-400" : "text-gray-600"
                        }`}
                      >
                        Please wait while we process your payment...
                      </p>
                    </div>
                  )}

                  {/* Step 3: Confirmation */}
                  {bookingStep === 3 && (
                    <div className="p-6 text-center">
                      <div
                        className={`inline-flex items-center justify-center w-16 h-16 rounded-full mb-4 ${
                          darkMode ? "bg-green-900" : "bg-green-100"
                        }`}
                      >
                        <CheckCircle className="text-green-600" size={32} />
                      </div>
                      <h3 className="text-2xl font-bold mb-4">
                        Booking Confirmed!
                      </h3>

                      <div
                        className={`mb-6 p-4 rounded-lg border ${
                          darkMode
                            ? "bg-gray-700 border-gray-600"
                            : "bg-gray-50 border-gray-200"
                        }`}
                      >
                        <h4 className="font-semibold mb-3">Session Details</h4>
                        <div className="space-y-2 text-sm">
                          <div className="flex justify-between">
                            <span>Tutor:</span>
                            <span className="font-medium">
                              {selectedTutor?.name}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Subject:</span>
                            <span className="font-medium">
                              {bookingForm.subject}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Date & Time:</span>
                            <span className="font-medium">
                              {bookingForm.date} at {bookingForm.time}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Payment Method:</span>
                            <span className="font-medium capitalize">
                              {paymentMethod}
                            </span>
                          </div>
                          <div className="flex justify-between">
                            <span>Amount Paid:</span>
                            <span className="font-medium text-green-600">
                              ${selectedTutor?.price}
                            </span>
                          </div>
                        </div>
                      </div>

                      <div
                        className={`mb-6 p-4 rounded-lg ${
                          darkMode ? "bg-blue-900" : "bg-blue-50"
                        } border ${
                          darkMode ? "border-blue-700" : "border-blue-200"
                        }`}
                      >
                        <h4 className="font-semibold mb-2 text-blue-600">
                          What's Next?
                        </h4>
                        <ul
                          className={`text-sm space-y-1 ${
                            darkMode ? "text-gray-300" : "text-gray-600"
                          }`}
                        >
                          <li>• You'll receive a confirmation email shortly</li>
                          <li>
                            • Your tutor will contact you before the session
                          </li>
                          <li>
                            • Join the session using the link in your email
                          </li>
                        </ul>
                      </div>

                      <button
                        onClick={resetBookingModal}
                        className="w-full px-4 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium"
                      >
                        Done
                      </button>
                    </div>
                  )}
                </div>
              </div>
            )}

            {/* Footer */}
            <footer
              className={`py-8 border-t mt-8 ${
                darkMode
                  ? "bg-gray-800 border-gray-700"
                  : "bg-white border-gray-200"
              }`}
            >
              <div className="container mx-auto px-4 flex justify-between items-center text-sm">
                <div className={darkMode ? "text-gray-400" : "text-gray-600"}>
                  © 2025 ConnectTutors
                </div>
                <div className="space-x-6">
                  <a
                    href="privacy.html"
                    className={`hover:text-blue-600 ${
                      darkMode ? "text-gray-400" : "text-gray-600"
                    }`}
                  >
                    Privacy
                  </a>
                  <a
                    href="contact.html"
                    className={`hover:text-blue-600 ${
                      darkMode ? "text-gray-400" : "text-gray-600"
                    }`}
                  >
                    Contact
                  </a>
                </div>
              </div>
            </footer>
          </div>
        );
      };

      // Render the app
      ReactDOM.render(<TutorsPage />, document.getElementById("root"));
    </script>
  </body>
</html>
